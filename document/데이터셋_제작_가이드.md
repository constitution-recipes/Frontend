# 평가 데이터셋 제작 가이드라인

AI 학습용 대화 데이터셋을 사람이 일관성 있게 작성할 수 있도록 단계별 가이드라인을 제공합니다.

---

## 1. 목적

- AI가 학습할 대화 패턴을 사람이 일관된 방식으로 작성
- 기능별(커스터마이즈, 다이어트, 난이도, 이벤트)에 대한 자연스러운 대화 샘플 확보
- 범용(General)과 개인화(Personalized)의 구분 기준 및 포맷 제시

## 2. 데이터셋 구성 개요

- 총 50개 샘플
  - 범용(General) 대화: 10개
  - 개인화(Personalized) 대화: 기능별 10개 × 4개 기능 = 40개

- **턴 수 규칙**
  - 모든 샘플은 최소 2턴(사용자 질문 1회 + 어시스턴트 응답 1회) 이상 구성
  - Simple Flow: 2~3턴
  - Complex Flow: 3~5턴 (추가 요청, 상세 안내 등 복합 요구)

- 포맷(예시: JSON, CSV)
  ```json
  {
    "id": "001",  
    "feature": "커스터마이즈",  
    "type": "General",  
    "persona": "",  
    "turns": [
      {"user": "소고기 대신 대체 재료 추천해 주세요.", "assistant": "소고기 대신 닭고기, 두부, 버섯 등을 사용해 보세요."},
      {"user": "감자 대신 다른 채소로 추천 가능할까요?", "assistant": "고구마나 단호박을 추천드립니다."}
    ]
  }
  ```

## 3. 작성 절차

1. **사전 준비**  
   - `README.md`, `architecture_overview.md`에서 기능 정의 및 세부 요소 숙지  
   - 체질(8체질), 알레르기, 선호, 인원, 예산, 조리기구, 난이도, 이벤트 목록 작성

2. **템플릿 작성**  
   - 범용/개인화 대화 샘플 뼈대(2~5턴) 작성  
   - 사용자 발화 스타일(어조, 표현) 통일

3. **대화 생성**  
   - **범용**: 일반적인 요청만 포함  
   - **개인화**: Persona 속성(체질, 알레르기, 예산, 인원 등) 반영  
   - 어시스턴트 응답:  
     - 요청 이해 확인 문장(“알겠습니다.”)  
     - 구체적 해결책 및 대안 제시  
     - 개인화: “이전 대화에서 ~~이라 알려주셨으니” 언급

4. **검수 및 수정**  
   - 중복 제거  
   - 문체·어조 일관성(존댓말)  
   - 요청-응답 논리 연결성 확인

5. **최종 포맷 변환**  
   - CSV/JSON 등 요구 포맷에 맞추어 입력 및 검수

3.5 **시스템 메시지 추가**  
   - 기능별 SYSTEM 역할 안내 메시지 예시  
     - System (커스터마이즈): "사용자의 기호와 제약(알레르기, 선호, 체질 등)에 맞춰 레시피를 변경·커스터마이즈하는 AI 어시스턴트입니다. 어떤 요청이 있으신가요?"  
     - System (다이어트): "사용자의 다이어트 목표(칼로리, 단백질, 지방 등)와 건강 상태에 최적화된 식단 및 레시피를 제안하는 AI 어시스턴트입니다. 필요하신 정보를 알려주세요."  
     - System (난이도): "사용자의 요리 실력(초급·중급·고급)에 맞춰 난이도별 레시피를 제공하는 AI 어시스턴트입니다. 선호하시는 난이도를 알려주세요."  
     - System (이벤트): "파티, 기념일, 명절 등 이벤트에 어울리는 메뉴와 기획 아이디어를 제안하는 AI 어시스턴트입니다. 이벤트 유형과 예산, 인원을 알려주세요."  
   - 마지막 Assistant 응답에는 이미지와 텍스트를 결합한 레시피를 제공합니다.  
     예시 포맷:  
     ```  
     Assistant: "![맞춤형 영양 토마토 수프](이미지_URL)\n\n**재료**: 토마토 4개, 양파 1개 …\n**조리법**: 1) 토마토 손질 2) …\n**영양 정보**: 칼로리 120kcal, 단백질 3g …"  
     ```

## 4. 기능별 작성 포인트

1) **레시피 변경·커스터마이즈**  
   - 재료 대체, 양 조절, 맛·영양·조리기구 변경 요청  
   - 개인화: 체질·알레르기·선호·인원수·조리기구 반영

2) **다이어트 음식 만들기**  
   - 칼로리·단백질·지방 등 영양소 조절 요청  
   - 개인화: 체중 목표·운동·식사 시간·알레르기·예산 등 반영

3) **난이도 따른 레시피 만들기**  
   - 초급·중급·고급 난이도 요청  
   - 개인화: 체질·채식·조리기구·학습 목표·인원수 반영

4) **이벤트·기념일 메뉴 만들기**  
   - 생일·명절·파티·예산·인원·테마·장식 팁 요청  
   - 개인화: 체질·알레르기·채식 등 반영

## 5. 대화 예시 템플릿

### 범용 예시 (Simple Flow: 2턴)
```text
System: "사용자의 기호와 제약(알레르기, 선호, 체질 등)에 맞춰 레시피를 변경·커스터마이즈하는 AI 어시스턴트입니다. 어떤 요청이 있으신가요?"
User: "맵기 중간으로 조절된 김치찌개 레시피 알려 주세요."
Assistant: "![중간 맵기 김치찌개](https://example.com/kimchi_stew.jpg)

**재료**:
- 김치 300g
- 돼지고기 150g
- 고춧가루 1큰술
- 대파 1대
- 다진 마늘 1작은술

**조리법**:
1) 돼지고기를 한 입 크기로 썰어 밑간합니다.
2) 냄비에 돼지고기, 김치, 고춧가루를 넣고 볶습니다.
3) 물 500ml를 붓고 끓인 후 대파와 마늘을 넣고 5분 더 끓입니다.

**영양 정보**: 칼로리 350kcal, 단백질 20g, 지방 18g, 나트륨 800mg"
```

### 개인화 예시 (Complex Flow: 3~5턴)
```text
System: "사용자의 기호와 제약(알레르기, 선호, 체질 등)에 맞춰 레시피를 변경·커스터마이즈하는 AI 어시스턴트입니다. 어떤 요청이 있으신가요?"
Persona: "금양체질·유당불내증·2인 가족"
User: "금양체질에 맞게 저염 김치찌개, 우유 대신 사용할 재료 추천해 주세요."
Assistant: "이전 대화에서 유당불내증이 있다고 하셨으니 두유 또는 코코넛밀크로 크림을 대체하겠습니다. 저염으로 조리 시 소금은 1작은술만 사용해 주세요."
User: "2인분 기준으로 양도 조정해 주실 수 있나요?"
Assistant: "네, 김치 250g, 돼지고기 120g, 두유 100ml 기준으로 준비해 주세요."
User: "마지막으로 조리 시간과 온도 알려 주세요."
Assistant: "![저염 김치찌개 (금양체질 맞춤)](https://example.com/kimchi_stew_low_salt.jpg)

**재료**:
- 김치 250g
- 돼지고기 120g
- 두유 100ml
- 고춧가루 1/2큰술
- 다진 마늘 1작은술

**조리법**:
1) 재료를 모두 냄비에 넣고 중불에서 5분간 볶습니다.
2) 물 400ml를 추가하고 끓기 시작하면 7분간 더 끓입니다.

**영양 정보**: 칼로리 300kcal, 단백질 18g, 지방 15g, 나트륨 500mg"
```

## 6. 품질 체크리스트

- [ ] 모든 샘플이 최소 2턴 이상인가?
- [ ] Simple/Complex Flow가 적절히 구분되었는가?
- [ ] 기능(feature)과 타입(type)이 올바르게 표시되었는가?
- [ ] 개인화 샘플에 Persona 속성이 반영되었는가?
- [ ] SYSTEM 메시지가 기능별로 정확히 포함되었는가?
- [ ] 마지막 Assistant 응답에 이미지와 텍스트가 결합된 형식이 지켜졌는가?
- [ ] 문체·어조가 일관적인가?
- [ ] 응답이 사용자 요청을 정확히 해결하는가?
- [ ] 중복·유사 문장이 과도하지 않은가? 